<?xml version="1.0"?>
<robot name="TT02_jaune">

  <webots>
    <plugin type="webot_simulation.voiture_driver.MyRobotDriver"/>

    <!-- RB5 RGB camera -->
    <device name="rb5_rgb" type="camera">
      <ros>
        <!-- No leading '/' -> will be namespaced by robot name -->
        <topicName>rb5/rgb/image_raw</topicName>
        <cameraInfoTopicName>rb5/rgb/camera_info</cameraInfoTopicName>
        <frameName>rb5_rgb_optical_frame</frameName>
      </ros>
    </device>

    <!-- RB5 depth camera (RangeFinder) -->
    <device name="rb5_depth" type="rangefinder">
      <ros>
        <topicName>rb5/depth/image_raw</topicName>
        <cameraInfoTopicName>rb5/depth/camera_info</cameraInfoTopicName>
        <frameName>rb5_depth_optical_frame</frameName>
      </ros>
    </device>

  </webots>

  <!-- Optional TF frames (useful for RViz). 
       Keep them minimal; Webots may not use them physically but helps TF tree. -->
  <link name="base_link"/>

  <link name="rb5_camera_link"/>
  <joint name="rb5_camera_joint" type="fixed">
    <parent link="base_link"/>
    <child link="rb5_camera_link"/>
    <!-- must match your PROTO placement if you want consistent TF -->
    <origin xyz="0.18 0 0.10" rpy="0 0 0"/>
  </joint>

  <!-- Optical frames (REP-103) -->
  <link name="rb5_rgb_optical_frame"/>
  <joint name="rb5_rgb_optical_joint" type="fixed">
    <parent link="rb5_camera_link"/>
    <child link="rb5_rgb_optical_frame"/>
    <origin xyz="0 0 0" rpy="-1.5708 0 -1.5708"/>
  </joint>

  <link name="rb5_depth_optical_frame"/>
  <joint name="rb5_depth_optical_joint" type="fixed">
    <parent link="rb5_camera_link"/>
    <child link="rb5_depth_optical_frame"/>
    <origin xyz="0 0 0" rpy="-1.5708 0 -1.5708"/>
  </joint>

</robot>
